{% load static %}
<link rel="stylesheet" href="{% static 'css/bookmarks.css'%}">

<div class="bookmark">
  <button class="btn btn-lg btn-circle btn-warning"
          data-toggle="modal"
          {% if not bookmark_exists %}
            data-target="#modal-add-bookmark"
          {% else %}
            data-target="#modal-delete-bookmark"
          {% endif %}>
    <i class="fa fa-star{% if not bookmark_exists %}-o{% endif %}"></i>
  </button>
</div>

<!-- Modal add bookmark -->
<div class="modal fade in" id="modal-add-bookmark" style="display: none; padding-right: 12px;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title">Salva Ricerca nei Bookmark</h4>
      </div>
      <form action="{% url 'create_bookmark' %}" method="post">
        <div class="modal-body">
            {% csrf_token %}
            {{ bookmark_form.as_p }}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Chiudi</button>
          <button type="submit" class="btn btn-success">Aggiungi</button>
        </div>
      </form>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

{% if bookmark_exists %}
<!-- Modal delete bookmark -->
<div class="modal fade in" id="modal-delete-bookmark" style="display: none; padding-right: 12px;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title">Rimuovi Ricerca dai Bookmark</h4>
      </div>
      <div class="modal-body">
        <p>Una volta eliminato non sarà più possibile recuperare il bookmark.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Chiudi</button>
        <button class="btn btn-danger delete-bm" data-bmid="{{ current_bm_id }}">Rimuovi</button>
      </div>

      {% comment %}
      <form action="{% url 'delete_bookmark' current_bm_id %}" method="post">
        <div class="modal-body">
            {% csrf_token %}
            Una volta eliminato non sarà più possibile recuperare il bookmark.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Chiudi</button>
          <button type="submit" class="btn btn-danger">Rimuovi</button>
        </div>
      </form>
      {% endcomment %}
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
{% endif %}

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			  integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
			  crossorigin="anonymous"></script>
<script src="{% static 'js/bookmarks.js' %}" type="text/javascript"></script>
